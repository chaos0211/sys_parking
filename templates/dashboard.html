{# templates/dashboard.html #}
{% extends "base.html" %}

{% block content %}
<!-- 欢迎标题 -->
<div class="mb-6">
  <h2 class="text-[clamp(1.5rem,3vw,2rem)] font-bold text-dark">
    欢迎使用智慧停车系统
  </h2>
  <p class="text-gray-500">实时监控和管理停车场运营情况</p>
</div>

<!-- 车库轮播图 -->
<div class="bg-white rounded-xl shadow-card overflow-hidden mb-8">
  <div class="relative h-[clamp(200px,50vh,400px)]">
    <div id="carousel" class="h-full w-full overflow-hidden relative">
      <div class="carousel-inner h-full transition-transform duration-500 ease-in-out flex">
        <div class="carousel-item min-w-full h-full">
          <img src="https://design.gemcoder.com/staticResource/echoAiSystemImages/8d2a11f4dea974ee3d323b33f3e2934b.png"
               alt="车库图片1"
               class="w-full h-full object-cover" />
        </div>
        <div class="carousel-item min-w-full h-full">
          <img src="https://design.gemcoder.com/staticResource/echoAiSystemImages/70fe3a43cb95e273af978581fc363462.png"
               alt="车库图片2"
               class="w-full h-full object-cover" />
        </div>
        <div class="carousel-item min-w-full h-full">
          <img src="https://design.gemcoder.com/staticResource/echoAiSystemImages/c822a1f4475743c3dede1094f7c596f6.png"
               alt="车库图片3"
               class="w-full h-full object-cover" />
        </div>
      </div>

      <!-- 左右切换按钮 -->
      <button id="prevBtn"
              class="absolute left-4 top-1/2 -translate-y-1/2 w-10 h-10 rounded-full bg-white/80 flex items-center justify-center text-primary hover:bg-white shadow-md">
        <i class="fas fa-chevron-left"></i>
      </button>
      <button id="nextBtn"
              class="absolute right-4 top-1/2 -translate-y-1/2 w-10 h-10 rounded-full bg-white/80 flex items-center justify-center text-primary hover:bg-white shadow-md">
        <i class="fas fa-chevron-right"></i>
      </button>

      <!-- 指示点 -->
      <div class="absolute bottom-4 left-1/2 -translate-x-1/2 flex space-x-2">
        <button class="carousel-indicator w-3 h-3 rounded-full bg-white opacity-100" data-index="0"></button>
        <button class="carousel-indicator w-3 h-3 rounded-full bg-white opacity-50" data-index="1"></button>
        <button class="carousel-indicator w-3 h-3 rounded-full bg-white opacity-50" data-index="2"></button>
      </div>
    </div>
  </div>
</div>

<!-- 统计卡片 -->
<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
  <!-- 总停车场 -->
  <div class="bg-white rounded-xl shadow-card p-6 hover:shadow-lg transform hover:-translate-y-1 transition-all">
    <div class="flex items-start justify-between">
      <div>
        <p class="text-gray-500 text-sm mb-1">总停车场</p>
        <h3 class="text-3xl font-bold">12</h3>
        <p class="text-success text-sm mt-2 flex items-center">
          <i class="fas fa-arrow-up mr-1"></i> 2 个 (本月新增)
        </p>
      </div>
      <div class="w-12 h-12 rounded-lg bg-primary/10 flex items-center justify-center text-primary">
        <i class="fas fa-map-marker-alt text-xl"></i>
      </div>
    </div>
  </div>

  <!-- 总车位数 -->
  <div class="bg-white rounded-xl shadow-card p-6 hover:shadow-lg transform hover:-translate-y-1 transition-all">
    <div class="flex items-start justify-between">
      <div>
        <p class="text-gray-500 text-sm mb-1">总车位数</p>
        <h3 class="text-3xl font-bold">1,256</h3>
        <p class="text-gray-500 text-sm mt-2">使用率: 78%</p>
      </div>
      <div class="w-12 h-12 rounded-lg bg-secondary/10 flex items-center justify-center text-secondary">
        <i class="fas fa-square text-xl"></i>
      </div>
    </div>
  </div>

  <!-- 今日停车 -->
  <div class="bg-white rounded-xl shadow-card p-6 hover:shadow-lg transform hover:-translate-y-1 transition-all">
    <div class="flex items-start justify-between">
      <div>
        <p class="text-gray-500 text-sm mb-1">今日停车</p>
        <h3 class="text-3xl font-bold">328</h3>
        <p class="text-danger text-sm mt-2 flex items-center">
          <i class="fas fa-arrow-down mr-1"></i> 12 辆 (较昨日)
        </p>
      </div>
      <div class="w-12 h-12 rounded-lg bg-warning/10 flex items-center justify-center text-warning">
        <i class="fas fa-car text-xl"></i>
      </div>
    </div>
  </div>

  <!-- 今日收入 -->
  <div class="bg-white rounded-xl shadow-card p-6 hover:shadow-lg transform hover:-translate-y-1 transition-all">
    <div class="flex items-start justify-between">
      <div>
        <p class="text-gray-500 text-sm mb-1">今日收入</p>
        <h3 class="text-3xl font-bold">¥12,580</h3>
        <p class="text-success text-sm mt-2 flex items-center">
          <i class="fas fa-arrow-up mr-1"></i> 15.2% (较昨日)
        </p>
      </div>
      <div class="w-12 h-12 rounded-lg bg-success/10 flex items-center justify-center text-success">
        <i class="fas fa-wallet text-xl"></i>
      </div>
    </div>
  </div>
</div>

<!-- 最近停车场表格 -->
<div class="bg-white rounded-xl shadow-card p-6 mb-8">
  <div class="flex items-center justify-between mb-6">
    <h3 class="text-lg font-bold">最近停车场</h3>
    <a href="{{ url_for('parking_page') }}"
       class="text-primary text-sm hover:underline flex items-center">
      查看全部 <i class="fas fa-chevron-right ml-1 text-xs"></i>
    </a>
  </div>

  <div class="overflow-x-auto">
    <table class="min-w-full">
      <thead>
        <tr class="border-b border-gray-200">
          <th class="text-left py-3 px-4 font-semibold text-sm text-gray-500">名称</th>
          <th class="text-left py-3 px-4 font-semibold text-sm text-gray-500">类型</th>
          <th class="text-left py-3 px-4 font-semibold text-sm text-gray-500">车位数</th>
          <th class="text-left py-3 px-4 font-semibold text-sm text-gray-500">可用车位</th>
          <th class="text-left py-3 px-4 font-semibold text-sm text-gray-500">状态</th>
          <th class="text-left py-3 px-4 font-semibold text-sm text-gray-500">操作</th>
        </tr>
      </thead>
      <tbody>
        <!-- 行 1 -->
        <tr class="border-b border-gray-100 hover:bg-gray-50 transition-colors">
          <td class="py-4 px-4">
            <div class="flex items-center">
              <img src="https://design.gemcoder.com/staticResource/echoAiSystemImages/bb38a6a758774d46ddd51738320198b6.png"
                   alt="停车场封面"
                   class="w-10 h-10 rounded object-cover mr-3" />
              <span>中央商务区停车场</span>
            </div>
          </td>
          <td class="py-4 px-4">地下</td>
          <td class="py-4 px-4">320</td>
          <td class="py-4 px-4">45</td>
          <td class="py-4 px-4">
            <span class="px-2 py-1 text-xs rounded-full bg-success/10 text-success">正常运营</span>
          </td>
          <td class="py-4 px-4">
            <button class="text-primary hover:text-primary/80 mr-3"><i class="fas fa-edit"></i></button>
            <button class="text-gray-500 hover:text-danger"><i class="fas fa-trash"></i></button>
          </td>
        </tr>

        <!-- 行 2 -->
        <tr class="border-b border-gray-100 hover:bg-gray-50 transition-colors">
          <td class="py-4 px-4">
            <div class="flex items-center">
              <img src="https://design.gemcoder.com/staticResource/echoAiSystemImages/c1f1447e09c0db2f7742b28e39c6d5c1.png"
                   alt="停车场封面"
                   class="w-10 h-10 rounded object-cover mr-3" />
              <span>科技园室外停车场</span>
            </div>
          </td>
          <td class="py-4 px-4">室外</td>
          <td class="py-4 px-4">180</td>
          <td class="py-4 px-4">12</td>
          <td class="py-4 px-4">
            <span class="px-2 py-1 text-xs rounded-full bg-success/10 text-success">正常运营</span>
          </td>
          <td class="py-4 px-4">
            <button class="text-primary hover:text-primary/80 mr-3"><i class="fas fa-edit"></i></button>
            <button class="text-gray-500 hover:text-danger"><i class="fas fa-trash"></i></button>
          </td>
        </tr>

        <!-- 行 3 -->
        <tr class="border-b border-gray-100 hover:bg-gray-50 transition-colors">
          <td class="py-4 px-4">
            <div class="flex items-center">
              <img src="https://design.gemcoder.com/staticResource/echoAiSystemImages/41fc6e03abf17616995c97ee4178171d.png"
                   alt="停车场封面"
                   class="w-10 h-10 rounded object-cover mr-3" />
              <span>购物中心室内停车场</span>
            </div>
          </td>
          <td class="py-4 px-4">室内</td>
          <td class="py-4 px-4">250</td>
          <td class="py-4 px-4">87</td>
          <td class="py-4 px-4">
            <span class="px-2 py-1 text-xs rounded-full bg-warning/10 text-warning">维护中</span>
          </td>
          <td class="py-4 px-4">
            <button class="text-primary hover:text-primary/80 mr-3"><i class="fas fa-edit"></i></button>
            <button class="text-gray-500 hover:text-danger"><i class="fas fa-trash"></i></button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
{% endblock %}